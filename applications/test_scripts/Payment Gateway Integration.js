describe('Payment Gateway Integration', () => { beforeEach(() => { cy.visit('/checkout'); }); it('should display checkout page with items and total amount', () => { cy.get('.checkout-items').should('be.visible'); cy.get('.total-amount').should('be.visible'); }); it('should select Credit Card as payment method and display fields', () => { cy.get('#credit-card-option').click(); cy.get('#credit-card-fields').should('be.visible'); }); it('should process payment with valid credit card details', () => { cy.get('#credit-card-option').click(); cy.get('#card-number').type('1234 5678 9012 3456'); cy.get('#expiry-date').type('12/25'); cy.get('#cvv').type('123'); cy.get('#pay-button').click(); cy.get('.confirmation-message').should('contain', 'Payment Successful'); }); it('should redirect to PayPal for payment', () => { cy.get('#paypal-option').click(); cy.url().should('include', 'paypal.com'); }); it('should fail payment with expired credit card', () => { cy.get('#credit-card-option').click(); cy.get('#card-number').type('1234 5678 9012 3456'); cy.get('#expiry-date').type('01/20'); cy.get('#cvv').type('123'); cy.get('#pay-button').click(); cy.get('.error-message').should('contain', 'Card expired'); }); it('should fail payment with incorrect CVV', () => { cy.get('#credit-card-option').click(); cy.get('#card-number').type('1234 5678 9012 3456'); cy.get('#expiry-date').type('12/25'); cy.get('#cvv').type('000'); cy.get('#pay-button').click(); cy.get('.error-message').should('contain', 'Invalid CVV'); }); it('should fail payment with incorrect PayPal account', () => { cy.get('#paypal-option').click(); cy.url().should('include', 'paypal.com'); cy.get('#email').type('wronguser@paypal.com'); cy.get('#login-button').click(); cy.get('.error-message').should('contain', 'Invalid account'); }); it('should prompt error when credit card fields are blank', () => { cy.get('#credit-card-option').click(); cy.get('#pay-button').click(); cy.get('.error-message').should('contain', 'Please fill out all fields'); }); it('should return to checkout after cancelling PayPal payment', () => { cy.get('#paypal-option').click(); cy.url().should('include', 'paypal.com'); cy.get('#cancel-button').click(); cy.url().should('include', '/checkout'); }); it('should fail payment exceeding card limit', () => { cy.get('#credit-card-option').click(); cy.get('#card-number').type('1234 5678 9012 3456'); cy.get('#expiry-date').type('12/25'); cy.get('#cvv').type('123'); cy.get('#amount').type('10000'); cy.get('#pay-button').click(); cy.get('.error-message').should('contain', 'Limit exceeded'); }); it('should verify security measures during payment', () => { cy.get('#credit-card-option').click(); cy.get('#card-number').type('1234 5678 9012 3456'); cy.get('#expiry-date').type('12/25'); cy.get('#cvv').type('123'); cy.get('#pay-button').click(); cy.get('.security-check').should('contain', 'Data encrypted'); }); it('should check system logs for transaction records', () => { cy.get('#view-logs').click(); cy.get('.log-record').should('contain', 'Transaction successful'); }); });