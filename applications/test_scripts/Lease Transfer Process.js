describe('Lease Transfer Process', () => { beforeEach(() => { cy.login('tenant', 'password'); }); it('should allow tenant to transfer lease with landlord approval', () => { cy.visit('/dashboard'); cy.get('#leaseManagement').click(); cy.get('#transferLeaseOption').click(); cy.get('#currentTenantId').type('T12345'); cy.get('#leaseId').type('L98765'); cy.get('#newTenantId').type('T67890'); cy.get('#submitTransfer').click(); cy.get('#notification').should('contain', 'Notification sent to landlord for approval'); cy.logout(); cy.login('landlord', 'password'); cy.visit('/notifications'); cy.get('#approveTransfer').click(); cy.get('#leaseRecord').should('contain', 'New Tenant: T67890'); cy.get('#leaseRecord').should('not.contain', 'Current Tenant: T12345'); }); it('should not allow lease transfer to unqualified tenant', () => { cy.get('#leaseManagement').click(); cy.get('#transferLeaseOption').click(); cy.get('#currentTenantId').type('T12345'); cy.get('#leaseId').type('L98765'); cy.get('#newTenantId').type('UnqualifiedTenant'); cy.get('#submitTransfer').click(); cy.get('#errorMessage').should('contain', 'Tenant is unqualified'); }); it('should not allow lease transfer without landlord approval', () => { cy.get('#leaseManagement').click(); cy.get('#transferLeaseOption').click(); cy.get('#currentTenantId').type('T12345'); cy.get('#leaseId').type('L98765'); cy.get('#newTenantId').type('T67890'); cy.get('#submitTransfer').click(); cy.get('#notification').should('contain', 'Notification sent to landlord for approval'); cy.get('#leaseRecord').should('not.contain', 'New Tenant: T67890'); }); it('should display error for invalid Lease ID', () => { cy.get('#leaseManagement').click(); cy.get('#transferLeaseOption').click(); cy.get('#currentTenantId').type('T12345'); cy.get('#leaseId').type('InvalidLeaseID'); cy.get('#newTenantId').type('T67890'); cy.get('#submitTransfer').click(); cy.get('#errorMessage').should('contain', 'Lease ID is invalid'); }); it('should display error for expired lease agreement', () => { cy.get('#leaseManagement').click(); cy.get('#transferLeaseOption').click(); cy.get('#currentTenantId').type('T12345'); cy.get('#leaseId').type('ExpiredLeaseID'); cy.get('#newTenantId').type('T67890'); cy.get('#submitTransfer').click(); cy.get('#errorMessage').should('contain', 'Lease agreement is expired'); }); it('should log lease transfer activity for audit', () => { cy.get('#leaseManagement').click(); cy.get('#transferLeaseOption').click(); cy.get('#currentTenantId').type('T12345'); cy.get('#leaseId').type('L98765'); cy.get('#newTenantId').type('T67890'); cy.get('#submitTransfer').click(); cy.get('#auditLog').should('contain', 'Lease transfer activity logged'); }); afterEach(() => { cy.logout(); }); });