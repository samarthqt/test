describe('Activate Two-Factor Authentication', () => { const phoneNumber = '+1234567890'; const smsCode = '123456'; before(() => { // Assuming a command to login cy.login(); }); it('should navigate to the security settings page', () => { cy.visit('/security-settings'); cy.get('.enable-2fa-option').should('be.visible'); }); it('should enable 2FA and prompt for phone number', () => { cy.get('.enable-2fa-option').click(); cy.get('.phone-number-input').should('be.visible'); }); it('should enter phone number and receive SMS code', () => { cy.get('.phone-number-input').type(phoneNumber); cy.get('.send-sms-button').click(); // Simulate receiving an SMS code cy.wait(2000); // Assuming some delay for SMS cy.get('.sms-code-input').should('be.visible'); }); it('should enter the received SMS code and confirm 2FA activation', () => { cy.get('.sms-code-input').type(smsCode); cy.get('.verify-sms-button').click(); cy.get('.2fa-confirmation').should('contain', '2FA activated'); }); it('should log in and verify with the SMS code', () => { cy.visit('/login'); cy.get('.login-phone-number-input').type(phoneNumber); cy.get('.login-sms-code-input').type(smsCode); cy.get('.login-button').click(); cy.url().should('include', '/dashboard'); }); after(() => { // Assuming a command to logout cy.logout(); }); });